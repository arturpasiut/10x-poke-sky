---
import MainLayout from "../layouts/MainLayout.astro";
import FavoritesView from "@/components/favorites/FavoritesView";
import { fetchEvolutionAssetPreference } from "@/lib/profile/preferences";

const supabase = Astro.locals.supabase;

const { preference: profileAssetPreference, isAuthenticated } = await fetchEvolutionAssetPreference(supabase);
---

<MainLayout title="Ulubione – 10x Poke Sky">
  <div slot="header" class="space-y-2">
    <h1 class="text-4xl font-semibold sm:text-5xl">Ulubione</h1>
    <p class="text-muted-foreground">
      Zapisane Pokémony pojawiają się w jednym miejscu. Twórz kolekcję i wracaj do niej, kiedy tylko chcesz.
    </p>
  </div>

  <div class="space-y-8">
    <FavoritesView
      client:load
      initialAssetPreference={profileAssetPreference}
      initialIsAuthenticated={isAuthenticated}
    />
  </div>
</MainLayout>
